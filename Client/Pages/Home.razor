@page "/"
@using Models
@inject HttpClient Http

<h3>Управление курсами</h3>

<div class="row mb-3">
    <div class="col">
        <button class="btn btn-primary" @onclick="AddNewCourse">Добавить курс</button>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>Название</th>
            <th>Язык программирования</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var course in Courses)
        {
            <tr>
                <td>@course.Name</td>
                <td>@course.Description</td>
                <td>
                    <button class="btn btn-sm btn-warning" @onclick="() => EditCourse(course)">Редактировать</button>
                    <button class="btn btn-sm btn-danger" @onclick="() => DeleteCourse(course)">Удалить</button>
                </td>
            </tr>
        }
    </tbody>
</table>

@code {
    private List<Data> Courses { get; set; } = new();

    protected override async Task OnInitializedAsync()
    {
        LoadTestData();   
    }

    private void LoadTestData()
    {
        List<Data> datas = new List<Data>
        {
            new Data {
            Name = "C#",
            Description = "Это лучший язык программирования на свете",
            Progress = 0
            },
            new Data
            {
                Name = "Swift",
                Description = "Хороший язык для стиляг и легкий старт",
                Progress = 0
            }
        };
        Courses = datas;
    }

    private void AddNewCourse() { }

    private void EditCourse(Data course) { }

    private void DeleteCourse(Data course) { }
}